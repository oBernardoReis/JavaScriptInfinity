<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Aula 6</title>
  </head>
  <body>
    <script>
      let tarefas = [];

      let adicionarTarefa = function (tarefa) {
        tarefas.push(tarefa);
        console.log("Tarefa adicionada:", tarefa);
      };

      let listarTarefas = () => {
        console.log("Lista de tarefas:");
        tarefas.forEach((tarefa, i) => {
          console.log(i + " - " + tarefa);
        });
      };

      function processarTarefa(indice, callback) {
        if (indice >= 0 && indice < tarefas.length) {
          callback(indice);
        } else {
          console.log("Índice inválido!");
        }
      }

      while (true) {
        let opcao = prompt(
          "O que deseja fazer?\n" +
            "1 - Adicionar tarefa\n" +
            "2 - Listar tarefas\n" +
            "3 - Remover tarefa\n" +
            "4 - Atualizar tarefa\n" +
            "5 - Concluir tarefa\n" +
            "6 - Sair"
        );

        if (opcao == "1") {
          let tarefa = prompt("Digite a nova tarefa:");
          adicionarTarefa(tarefa);
        } else if (opcao == "2") {
          listarTarefas();
        } else if (opcao == "3") {
          let indice = parseInt(prompt("Digite o índice da tarefa a remover:"));
          processarTarefa(indice, function (i) {
            console.log("Tarefa removida:", tarefas[i]);
            tarefas.splice(i, 1);
          });
        } else if (opcao == "4") {
          let indice = parseInt(
            prompt("Digite o índice da tarefa a atualizar:")
          );
          let nova = prompt("Digite o novo valor da tarefa:");
          processarTarefa(indice, (i) => {
            tarefas[i] = nova;
            console.log("Tarefa atualizada:", tarefas[i]);
          });
        } else if (opcao == "5") {
          let indice = parseInt(
            prompt("Digite o índice da tarefa a concluir:")
          );
          processarTarefa(indice, (i) => {
            tarefas[i] = "✅ " + tarefas[i];
            console.log("Tarefa concluída:", tarefas[i]);
          });
        } else if (opcao == "6") {
          console.log("Saindo do programa...");
          break;
        } else {
          console.log("Opção inválida!");
        }
      }
    </script>
  </body>
</html>
